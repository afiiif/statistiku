const add=(t,e)=>t.map((t,a)=>t+e[a]),sub=(t,e)=>t.map((t,a)=>t-e[a]),mul=(t,e)=>t.map((t,a)=>t*e[a]),div=(t,e)=>t.map((t,a)=>t/e[a]),mod=(t,e)=>t.map((t,a)=>t%e[a]),pow=(t,e)=>t.map((t,a)=>t**e[a]);Array.prototype.add=function(t){return this.map(e=>e+t)},Array.prototype.sub=function(t){return this.map(e=>e-t)},Array.prototype.mul=function(t){return this.map(e=>e*t)},Array.prototype.div=function(t){return this.map(e=>e/t)},Array.prototype.mod=function(t){return this.map(e=>e%t)},Array.prototype.pow=function(t=2){return this.map(e=>e**t)},Array.prototype.max=function(){let t=this.length,e=-1/0;for(;t--;)e=this[t]>e?this[t]:e;return e},Array.prototype.min=function(){let t=this.length,e=1/0;for(;t--;)e=this[t]<e?this[t]:e;return e},Array.prototype.unq=function(){return[...new Set(this)].sort((t,e)=>t-e)};const len=(t,e=0)=>e?e.reduce((t,e)=>t+e):t.length,sum=(t,e=0)=>e?mul(t,e).reduce((t,e)=>t+e):t.reduce((t,e)=>t+e),sumsq=(t,e=0)=>sum(t.pow(),e),prod=(t,e=0)=>e?t.reduce((t,a,r)=>t*a**e[r],1):t.reduce((t,e)=>t*e),mean=(t,e=0)=>sum(t,e)/len(t,e),gmean=(t,e=0)=>prod(e?t.pow(1/sum(e)):t.pow(1/t.length)),dis=(t,e=0)=>t.sub(mean(t,e)),sst=(t,e=0)=>sumsq(dis(t,e),e),vr=(t,e=0)=>sst(t,e)/(len(t,e)-1),vrp=(t,e=0)=>sst(t,e)/len(t,e),sd=(t,e=0)=>vr(t,e)**.5,sdp=(t,e=0)=>vrp(t,e)**.5,cov=(t,e,a=0)=>sum(mul(dis(t,a),dis(e,a)),a)/(len(t,a)-1),covp=(t,e,a=0)=>sum(mul(dis(t,a),dis(e,a)),a)/len(t,a),cor=(t,e,a=0)=>cov(t,e)/sd(t,a)/sd(e,a),corp=(t,e,a=0)=>covp(t,e)/sdp(t,a)/sdp(e,a),histo={k:(t,e=0,a="sqrt")=>"sqrt"===a?Math.ceil(len(t,e)**.5):"sturges"===a?Math.ceil(Math.log2(len(t,e)))+1:"rice"===a?Math.ceil(2*len(t,e)**(1/3)):Math.ceil(a),bin:(t,e=0,a="sqrt",r=null,s=null)=>{a=histo.k(t,e,a),r=null===r?t.min():r;let n=((s=null===s?t.max():s)-r)/a,o=[];for(var i=0;i<a;i++)o[i]={},o[i].btm=r+i*n,o[i].mid=o[i].btm+n/2,o[i].top=Number((o[i].btm+n).toFixed(12)),o[i].f=0,0===i&&o[i].btm--,e?t.forEach((t,a)=>{o[i].btm<t&&t<=o[i].top&&(o[i].f+=e[a])}):t.forEach(t=>{o[i].btm<t&&t<=o[i].top&&o[i].f++}),0===i&&o[i].btm++;return o}},histoSpline={k:(t,e=0,a="sqrt")=>"sqrt"===a?Math.ceil(len(t,e)**.5):"sturges"===a?Math.ceil(Math.log2(len(t,e)))+1:"rice"===a?Math.ceil(2*len(t,e)**(1/3)):Math.ceil(a),bin:(t,e=0,a="sqrt",r=null,s=null)=>{a=histo.k(t,e,a),r=null===r?t.min():r;let n=((s=null===s?t.max():s)-r)/a,o=[];for(var i=0;i<a;i++)o[i]={},o[i].btm=r+i*n,o[i].mid=o[i].btm+n/2,o[i].top=Number((o[i].btm+n).toFixed(12)),o[i].f=0,0===i&&o[i].btm--,e?t.forEach((t,a)=>{o[i].btm<t&&t<=o[i].top&&(o[i].f+=e[a])}):t.forEach(t=>{o[i].btm<t&&t<=o[i].top&&o[i].f++}),0===i&&o[i].btm++;o.unshift({btm:o[0].btm-n,mid:o[0].mid-n,top:o[0].top-n,f:0});let l=o.length-1;return o.push({btm:o[l].btm+n,mid:o[l].mid+n,top:o[l].top+n,f:0}),o}},quartile=(t,e,a=0)=>{let r=(t,e=0)=>{if(0==e)return t;let a=0;return e.forEach((e,r)=>{if((a+=e)>t)return r}),null},s=(len(t,a)-1)*e,n=Math.floor(s),o=[r(n,a),r(n+1,a)];return void 0===typeof t[o[1]]?t[o[0]]:t[o[0]]+(s-n)*(t[o[1]]-t[o[0]])},rank=(t,e=0)=>{var a={},r=t.unq(),s=0;return e?t.forEach((t,r)=>{a[t]=(a[t]||0)+e[r]}):t.forEach(t=>{a[t]=(a[t]||0)+1}),r.forEach((t,e)=>{r[e]=[t,(s+1+s+a[t])/2],s+=a[t]}),r},trans=t=>t[0].map((e,a)=>t.map(t=>t[a])),combi=t=>{if(1==t.length)return t[0];var e=[];return t[0].forEach(a=>{combi(t.slice(1)).forEach(t=>{e.push([a].concat(t))})}),e},msort=(t,e)=>trans(trans(t).sort((t,a)=>t[e]>a[e]?1:t[e]<a[e]?-1:0)),split=(t,e)=>t[e].unq().map(a=>trans(trans(t).filter(t=>t[e]===a))),ʹ=t=>5-Math.floor(Math.log10(Math.abs(t))+1),ʺ=(t,e)=>Number(t.toFixed(Math.max(0,Math.min(ʹ(e),20)))),Ś=(t,e)=>`<span title="${t.toFixed(Math.max(0,e+4))}">${t.toFixed(Math.max(0,e))}</span>`,Ô=(t,e,a="")=>`<div class="output-header"><i class="fas fa-level-up-alt fa-rotate-90 fa-fw mr-1"></i><b>${e}</b> ${a} <span class="text-success">(${t} records)</span></div>`,vlabel=(t,e,a)=>{let r=e.find(e=>e[0]==a&&e[1]==t);return r?r[2]:t},scr=(t,e=!0)=>e?`<script>$(()=>{${t}});<\/script>`:`<script>${t}<\/script>`,gvar=(t,e)=>scr(`eval('var ${t} = ${JSON.stringify(e)}')`,0),shake=t=>scr(`$analyzeForm.find("[name='${t}']").closest('fieldset').effect('shake', {distance:10})`,0),datatables=(t,e,a,r,s,n)=>`\n\t<h6>${t}</h6>\n\t<table id="${e}" class="table table-sm w-100" data-left="${a.length}">\n\t\t<thead>\n\t\t\t<tr>${[...a,...r].map(t=>`<th>${t.l||t}</th>`).join("")}</tr>\n\t\t</thead>\n\t</table>`+scr(`$("#${e}").DataTable(${JSON.stringify({dom:"<'table-responsive't>",paging:!1,data:s,rowsGroup:n,order:n.map(t=>[t,"asc"])})})`),datatablesWithToggle=(t,e,a,r,s,n)=>`\n\t<div class="float-right">\n\t\t<select id="${e}-col-toggle" class="selectpicker" data-selected-text-format="static" title="<i class='fas fa-cog mr-1'></i>Columns" data-width="auto" data-style="btn-column-toggle" data-dropdown-align-right="true" data-header="Columns" data-actions-box="true" multiple>\n\t\t\t${r.map((t,e)=>`<option value="${t.val||e}" ${"object"==typeof t&&1!==t.s?"":"selected"}>${t.l||t}</option>`).join("")}\n\t\t</select>\n\t</div>`+datatables(t,e,a,r,s,n)+scr(`\n\t\t$('#${e}-col-toggle')\n\t\t.change(function() {\n\t\t\tlet c = ${a.length+1};\n\t\t\t$(this).children().each(function(i,opt) {\n\t\t\t\t$('#${e} tr > td:nth-child('+(c+i)+'), #${e} tr > th:nth-child('+(c+i)+')').toggleClass('d-none', !$(opt).is(':selected'))\n\t\t\t})\n\t\t}).change()\n\t\t.selectpicker('render');\n\t`,1),highcharts=(t,e,a)=>`\n\t<div id="hc-${t}"></div>`+scr(`var hc${t} = Highcharts.chart('hc-${t}', $.extend(true, {}, ${e.map(t=>"HC."+t+",").join("")} ${a}))`),highchartsReflow=t=>scr(t.map(t=>`$('#hc-${t}').highcharts().reflow();`).join("")),toRGBA=(t,e=1)=>{var a=void 0;if(/^#([A-Fa-f0-9]{3}){1,2}$/.test(t))return 3===(a=t.substring(1).split("")).length&&(a=[a[0],a[0],a[1],a[1],a[2],a[2]]),"rgba("+[(a="0x"+a.join(""))>>16&255,a>>8&255,255&a].join(",")+","+e+")"},colors=["#17c671","#007bff","#ffb400","#ff4169","#5a6169","#00b8d8","#1adba2","#674eec","#e4d354","#818ea3","#f45b5b","#91e8e1"],alert=(t,e="alert-success")=>`\n\t<div class="alert alert-dismissible fade show ${e}" role="alert">\n\t\t${t}\n\t\t<button type="button" class="close py-2 px-3 fz-20" data-dismiss="alert" aria-label="Close">\n\t\t\t<span aria-hidden="true">×</span>\n\t\t</button>\n\t</div>`;