importScripts("../v3.0/utils.js"),importScripts("https://cdnjs.cloudflare.com/ajax/libs/jstat/1.7.1/jstat.min.js");export const index=(t,a,e,r,l,d)=>{const s=Date.now();let o=t["y[]"].map(t=>l[t]).join(", "),i=Ô(a[0].length,o),n=t["y[]"].map(t=>!a[r[t]].some(t=>null===t||isNaN(t))&&ʹ(mean(a[r[t]],e))),b="";for(let a=0,e=n.length;a<e;a++)if(!1===n[a])return{error:`Invalid variable: <b class="text-warning">${l[t["y[]"][a]]}</b> contains non-numeric value`+shake("y[]")};var c=t["y[]"].length,y=len(a[r[t["y[]"][0]]],e)-2,m=[];for(let l=0;l<c;l++){m[l]=[];for(let d=0;d<c;d++)if(l<d){let s=cor(a[r[t["y[]"][l]]],a[r[t["y[]"][d]]],e),o=-Math.abs(s*(y/(1-s**2))**.5),i=jStat.studentt.cdf(o,y)*(Number(t.a)+1),n=`<div class="fz-16 my-1 pb-1 fw-600">${Ś(s,3)}</div>`,b=`<div class="fz-11 text-left" style="border-top: 1px dashed rgba(${Math.abs(s)>.5?"255,255,255":"255,65,105"},.5)">Sig.= ${Ś(i,3)}</div>`;m[l][d]={cell:s>0?`<td style="background:rgba(255,65,105,${s}); color:rgb(${s>.5?"255,255,255":"255,65,105"});">${n+b}</td>`:`<td style="background:rgba(0,123,255,${-s}); color:rgb(${s<-.5?"255,255,255":"0,123,255"});">${n+b}</td>`,r:Ś(s,3)}}else m[l][d]=l>d?m[d][l]:""}return b+='<h6>Correlation Matrix*</h6><div class="ovy-a mb-1"><table class="table table-sm table-bordered w-100 mb-0 table-top-left-header"><tbody><tr><td></td>'+t["y[]"].map(t=>`<td>${l[t]}</td>`).join("")+"<tr>"+t["y[]"].map((a,e)=>`<tr><td>${l[a]}</td>\n\t\t  \t${t["y[]"].map((t,a)=>e===a?"<td></td>":m[e][a].cell).join("")}</tr>`).join("")+"</tbody></table></div>*) Test of significance: "+["One-tailed","Two-tailed"][t.a],t.c&&(b+='<hr><h6>Scatter Plot</h6><div class="ovy-a mb-1"><table class="table table-sm table-bordered w-auto mb-0 table-top-left-header"><tbody><tr><td></td>'+t["y[]"].map(t=>`<td>${l[t]}</td>`).join("")+"<tr>"+t["y[]"].map((e,d)=>`<tr><td>${l[e]}</td>${t["y[]"].map((e,l)=>`<td class="p-0">\n\t\t  \t${d===l?"":highcharts(s+"_"+d+"_"+l,["scatterMini"],JSON.stringify({title:{text:"r = "+m[d][l].r},series:[{data:trans([a[r[t["y[]"][l]]],a[r[t["y[]"][d]]]])}]}))}\n\t\t  \t</td>`).join("")}</tr>`).join("")+"</tbody></table></div>"),{title:"Pearson Correlation",vars:o,body:i+b}};