const transpose=e=>e[0].map((s,a)=>e.map(e=>e[a]));onmessage=function(e){const{appVersion:s,category:a,method:t,formData:o,data:n,vars:r,varNames:i,varLabels:g}=e.data||{},l=transpose(n);let c=!1;if(null!==o.weight){if((c=l[r[o.weight]]).some(e=>null===e||isNaN(e)))return postMessage({error:`Invalid weight: <b class="text-warning">${i[o.weight]}</b> contains non-numeric value`});if(!c.every(e=>e>0&&!Number.isNaN(e)))return postMessage({error:`Invalid weight: <b class="text-warning">${i[o.weight]}</b> must be a positive number`})}import(`../v${s}/${a}/${t}.js`).then(e=>{console.debug("Module loaded");const s=e.index(o,l,c,r,i,g);postMessage(s)}).catch(e=>{console.log({error:e}),postMessage(e)})};